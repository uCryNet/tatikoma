(this["webpackJsonpcalculator-react-typescript"]=this["webpackJsonpcalculator-react-typescript"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(3),o=n.n(a),l=n(1),u=function(e){var t=e.value,n=e.expression;return c.a.createElement("div",{className:"display"},c.a.createElement("div",{className:"display__indicator"},c.a.createElement("div",{className:"display__expression"},n)),c.a.createElement("div",{className:"display__screen"},t))},i=function(e){var t=e.children,n=e.clas,r=e.onClick;return c.a.createElement("button",{className:"button "+(n||""),onClick:r},t)},s=Object(r.createContext)({theme:function(){},isDarkTheme:!1}),m=function(e){var t=e.onDigitButtonClick,n=e.onDotButtonClick,a=e.onOperatorButtonClick,o=e.onMinusSignButtonClick,l=e.onEqualButtonClick,u=e.onAllClearButtonClick,m=e.onClearEntryButtonClick,f=e.onMemoryInsertButtonClick,C=e.onClearButtonClick,k=e.onMemorySaveResult,b=e.onMemoryClear,E=Object(r.useContext)(s),d=E.theme,g=E.isDarkTheme;Object(r.useEffect)((function(){return document.body.addEventListener("keydown",v),function(){return document.body.removeEventListener("keydown",v)}}));var v=function(e){var r=e.keyCode,c=e.shiftKey;r>=48&&r<=57&&!c?t(r-48):53===r&&c?a("%"):107===r||187===r&&c?a("+"):187!==r||c?106===r||56===r&&c?a("\xd7"):109===r||189===r?a("-"):111===r||191===r||111===r||191===r?a("\xf7"):68===r?n():46===r?m():27===r?u():78===r?o():80===r?f():67===r?C():65===r?u():83===r?k():75===r&&b():l()};return c.a.createElement("div",{className:"pad"},c.a.createElement(i,{clas:"button--grey",onClick:C},"C"),c.a.createElement(i,{clas:"button--grey",onClick:b},"MC"),c.a.createElement(i,{clas:"button--grey",onClick:k},"MS"),c.a.createElement(i,{clas:g?"button--red":"button--green",onClick:d},"T"),c.a.createElement(i,{clas:"button--grey",onClick:u},"AC"),c.a.createElement(i,{clas:"button--grey",onClick:o},"-/+"),c.a.createElement(i,{clas:"button--grey",onClick:function(){return a("%")}},"%"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("\xf7")}},"\xf7"),c.a.createElement(i,{onClick:function(){return t(7)}},"7"),c.a.createElement(i,{onClick:function(){return t(8)}},"8"),c.a.createElement(i,{onClick:function(){return t(9)}},"9"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("\xd7")}},"\xd7"),c.a.createElement(i,{onClick:function(){return t(4)}},"4"),c.a.createElement(i,{onClick:function(){return t(5)}},"5"),c.a.createElement(i,{onClick:function(){return t(6)}},"6"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("-")}},"\u2012"),c.a.createElement(i,{onClick:function(){return t(1)}},"1"),c.a.createElement(i,{onClick:function(){return t(2)}},"2"),c.a.createElement(i,{onClick:function(){return t(3)}},"3"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("+")}},"+"),c.a.createElement(i,{onClick:function(){return t(0)}},"0"),c.a.createElement(i,{clas:"button--grey",onClick:f},"MR"),c.a.createElement(i,{clas:"button--middle",onClick:n},"."),c.a.createElement(i,{clas:"button--yellow",onClick:l},"="))},f=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1]),a=Object(r.useState)(0),o=Object(l.a)(a,2),i=o[0],f=o[1],C=Object(r.useState)("0"),k=Object(l.a)(C,2),b=k[0],E=k[1],d=Object(r.useState)(!0),g=Object(l.a)(d,2),v=g[0],y=g[1],S=Object(r.useState)(),p=Object(l.a)(S,2),O=p[0],h=p[1],j=Object(r.useContext)(s).isDarkTheme,B=function(e,t){var n=i;switch(t){case"+":n+=e;break;case"-":n-=e;break;case"\xd7":n*=e;break;case"%":n=100/n*e;break;case"\xf7":if(0===e)return!1;n/=e}return f(n),E(n.toString().toString().slice(0,7)),!0},N=function(){localStorage.getItem("rez")&&localStorage.removeItem("rez")};return c.a.createElement("div",{className:"app "+(j?"dark":"")},c.a.createElement(u,{value:b,expression:"undefined"!==typeof O?"".concat(i).concat(O).concat(v?"":b):""}),c.a.createElement(m,{onDigitButtonClick:function(e){var t=b;"0"===b&&0===e||b.length>7||(v&&(t="",y(!1)),"0"!==b?t+=e.toString():t=e.toString(),E(t))},onDotButtonClick:function(){var e=b;v&&(e="0"),-1===e.indexOf(".")&&(e+="."),E(e),y(!1)},onOperatorButtonClick:function(e){var t=Number(b);if("undefined"===typeof O||v)f(t);else if(!B(t,O))return;h(e),y(!0)},onMinusSignButtonClick:function(){var e=Number(b);E(e>0?"-"+b:b.slice(1))},onEqualButtonClick:function(){var e=Number(b);if("undefined"===typeof O||v)E(e.toString());else{if(!B(e,O))return;h(void 0)}f(e),y(!0)},onAllClearButtonClick:function(){n(0),f(0),h(void 0),E("0"),y(!0),N()},onClearButtonClick:function(){n(0),f(0),h(void 0),E("0"),y(!0)},onClearEntryButtonClick:function(){E("0"),y(!0)},onMemoryInsertButtonClick:function(){var e=JSON.parse(localStorage.getItem("rez"));if(e){var t=0,n=e.find((function(e,n){if(e.current)return t=n,e}));e[t-1]?(e[t].current=!1,e[t-1].current=!0):(e[t].current=!1,e[e.length-1].current=!0),localStorage.setItem("rez",JSON.stringify(e)),y(!1),n&&E(n.amount.toString())}},onMemorySaveResult:function(){var e=Number(b);if(localStorage.getItem("rez")){var t=JSON.parse(localStorage.getItem("rez"));t.forEach((function(e){return e.current=!1}));var n={amount:e,current:!0};t.push(n),localStorage.setItem("rez",JSON.stringify(t))}else{var r=[{amount:e,current:!0}];localStorage.setItem("rez",JSON.stringify(r))}},onMemoryClear:N}))},C=(n(9),function(e){var t=e.children,n=Object(r.useState)(localStorage.getItem("theme")?!!Number(localStorage.getItem("theme")):!!Number(localStorage.setItem("theme","0"))),a=Object(l.a)(n,2),o=a[0],u=a[1];Object(r.useEffect)((function(){o?localStorage.setItem("theme","1"):localStorage.setItem("theme","0")}),[o]);var i=Object(r.useCallback)((function(){return u((function(e){return!e}))}),[]),m=Object(r.useMemo)((function(){return{isDarkTheme:o,theme:i}}),[o,i]);return c.a.createElement(s.Provider,{value:m},t)});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null,c.a.createElement(f,null))),document.getElementById("root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.706c6cde.chunk.js.map