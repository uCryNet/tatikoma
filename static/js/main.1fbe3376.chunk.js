(this["webpackJsonpcalculator-react-typescript"]=this["webpackJsonpcalculator-react-typescript"]||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(3),o=n.n(a),l=n(1),u=function(e){var t=e.value,n=e.expression;return c.a.createElement("div",{className:"display"},c.a.createElement("div",{className:"display__indicator"},c.a.createElement("div",{className:"display__expression"},n)),c.a.createElement("div",{className:"display__screen"},t))},i=function(e){var t=e.children,n=e.clas,r=e.onClick;return c.a.createElement("button",{className:"button "+(n||""),onClick:r},t)},s=Object(r.createContext)({theme:function(){},isDarkTheme:!1}),m=function(e){var t=e.onDigitButtonClick,n=e.onDotButtonClick,a=e.onOperatorButtonClick,o=e.onMinusSignButtonClick,l=e.onEqualButtonClick,u=e.onAllClearButtonClick,m=e.onClearEntryButtonClick,f=e.onMemoryInsertButtonClick,C=e.onClearButtonClick,k=e.onMemorySaveResult,b=e.onMemoryClear,E=Object(r.useContext)(s),g=E.theme,d=E.isDarkTheme;Object(r.useEffect)((function(){return document.body.addEventListener("keydown",v),function(){return document.body.removeEventListener("keydown",v)}}));var v=function(e){var r=e.keyCode,c=e.shiftKey;r>=48&&r<=57&&!c?t(r-48):53===r&&c?a("%"):107===r||187===r&&c?a("+"):187!==r||c?106===r||56===r&&c?a("\xd7"):109===r||189===r?a("-"):111===r||191===r||111===r||191===r?a("\xf7"):68===r?n():46===r?m():27===r?u():78===r?o():80===r?f():67===r?C():65===r?u():83===r?k():75===r&&b():l()};return c.a.createElement("div",{className:"pad"},c.a.createElement(i,{clas:"button--grey",onClick:C},"C"),c.a.createElement(i,{clas:"button--grey",onClick:b},"MC"),c.a.createElement(i,{clas:"button--grey",onClick:k},"MS"),c.a.createElement(i,{clas:d?"button--red":"button--green",onClick:g},"T"),c.a.createElement(i,{clas:"button--grey",onClick:u},"AC"),c.a.createElement(i,{clas:"button--grey",onClick:o},"-/+"),c.a.createElement(i,{clas:"button--grey",onClick:function(){return a("%")}},"%"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("\xf7")}},"\xf7"),c.a.createElement(i,{onClick:function(){return t(7)}},"7"),c.a.createElement(i,{onClick:function(){return t(8)}},"8"),c.a.createElement(i,{onClick:function(){return t(9)}},"9"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("\xd7")}},"\xd7"),c.a.createElement(i,{onClick:function(){return t(4)}},"4"),c.a.createElement(i,{onClick:function(){return t(5)}},"5"),c.a.createElement(i,{onClick:function(){return t(6)}},"6"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("-")}},"\u2012"),c.a.createElement(i,{onClick:function(){return t(1)}},"1"),c.a.createElement(i,{onClick:function(){return t(2)}},"2"),c.a.createElement(i,{onClick:function(){return t(3)}},"3"),c.a.createElement(i,{clas:"button--yellow",onClick:function(){return a("+")}},"+"),c.a.createElement(i,{onClick:function(){return t(0)}},"0"),c.a.createElement(i,{clas:"button--grey",onClick:f},"MR"),c.a.createElement(i,{clas:"button--middle",onClick:n},"."),c.a.createElement(i,{clas:"button--yellow",onClick:l},"="))},f=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)("0"),i=Object(l.a)(o,2),f=i[0],C=i[1],k=Object(r.useState)(!0),b=Object(l.a)(k,2),E=b[0],g=b[1],d=Object(r.useState)(),v=Object(l.a)(d,2),y=v[0],S=v[1],p=Object(r.useContext)(s).isDarkTheme,O=function(e,t){var r=n;switch(t){case"+":r+=e;break;case"-":r-=e;break;case"\xd7":r*=e;break;case"%":r=100/r*e;break;case"\xf7":if(0===e)return!1;r/=e}return a(r),r.toString().length>7?(C("Infinity"),setTimeout((function(e){return B()}),1e3)):C(r.toString().slice(0,7)),!0},h=function(){localStorage.getItem("rez")&&localStorage.removeItem("rez")},B=function(){a(0),S(void 0),C("0"),g(!0)};return c.a.createElement("div",{className:"app "+(p?"dark":"")},c.a.createElement(u,{value:f,expression:"undefined"!==typeof y?"".concat(n).concat(y).concat(E?"":f):""}),c.a.createElement(m,{onDigitButtonClick:function(e){var t=f;"0"===f&&0===e||f.length>7||(E&&(t="",g(!1)),"0"!==f?t+=e.toString():t=e.toString(),C(t))},onDotButtonClick:function(){var e=f;E&&(e="0"),-1===e.indexOf(".")&&(e+="."),C(e),g(!1)},onOperatorButtonClick:function(e){var t=Number(f);if("undefined"===typeof y||E)a(t);else if(!O(t,y))return;S(e),g(!0)},onMinusSignButtonClick:function(){var e=Number(f);C(e>0?"-"+f:f.slice(1))},onEqualButtonClick:function(){var e=Number(f);if("undefined"===typeof y||E)C(e.toString());else{if(!O(e,y))return;S(void 0)}a(e),g(!0)},onAllClearButtonClick:function(){a(0),S(void 0),C("0"),g(!0),h()},onClearButtonClick:B,onClearEntryButtonClick:function(){C("0"),g(!0)},onMemoryInsertButtonClick:function(){var e=JSON.parse(localStorage.getItem("rez"));if(e){var t=0,n=e.find((function(e,n){if(e.current)return t=n,e}));e[t-1]?(e[t].current=!1,e[t-1].current=!0):(e[t].current=!1,e[e.length-1].current=!0),localStorage.setItem("rez",JSON.stringify(e)),g(!1),n&&C(n.amount.toString())}},onMemorySaveResult:function(){var e=Number(f);if(localStorage.getItem("rez")){var t=JSON.parse(localStorage.getItem("rez"));t.forEach((function(e){return e.current=!1}));var n={amount:e,current:!0};n.amount!==1/0&&t.push(n),localStorage.setItem("rez",JSON.stringify(t))}else{var r=[{amount:e,current:!0}];r[0].amount!==1/0&&localStorage.setItem("rez",JSON.stringify(r))}},onMemoryClear:h}))},C=(n(9),function(e){var t=e.children,n=Object(r.useState)(localStorage.getItem("theme")?!!Number(localStorage.getItem("theme")):!!Number(localStorage.setItem("theme","0"))),a=Object(l.a)(n,2),o=a[0],u=a[1];Object(r.useEffect)((function(){o?localStorage.setItem("theme","1"):localStorage.setItem("theme","0")}),[o]);var i=Object(r.useCallback)((function(){return u((function(e){return!e}))}),[]),m=Object(r.useMemo)((function(){return{isDarkTheme:o,theme:i}}),[o,i]);return c.a.createElement(s.Provider,{value:m},t)});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null,c.a.createElement(f,null))),document.getElementById("root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.1fbe3376.chunk.js.map