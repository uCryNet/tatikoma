{"version":3,"sources":["components/Display/Display.tsx","components/Button/Button.tsx","components/Theme/ThemeContext.ts","components/NumPad/NumPad.tsx","components/App/App.tsx","components/Theme/ThemeProvider.tsx","index.tsx"],"names":["Display","value","expression","className","Button","children","clas","onClick","ThemeContext","createContext","theme","isDarkTheme","NumPad","onDigitButtonClick","onDotButtonClick","onOperatorButtonClick","onMinusSignButtonClick","onEqualButtonClick","onAllClearButtonClick","onClearEntryButtonClick","onMemoryInsertButtonClick","onClearButtonClick","onMemorySaveResult","onMemoryClear","useContext","useEffect","document","body","addEventListener","onHandleKey","removeEventListener","keyCode","shiftKey","App","useState","result","setResult","display","setDisplay","isOperand","setIsOperand","isOperator","setIsOperator","calc","rightOperand","newResult","toString","length","setTimeout","_","slice","localStorage","getItem","removeItem","undefined","digit","newValue","indexOf","operator","operand","Number","history","JSON","parse","idx","memory","find","e","i","current","setItem","stringify","amount","oldArr","forEach","newRez","Infinity","push","tempArr","ThemeProvider","setDarkTheme","useCallback","useMemo","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1fbe3376.chunk.js","sourcesContent":["import React from 'react'\n\ninterface DisplayProps {\n  expression: any\n  value: string\n}\n\nexport const Display: React.FC<DisplayProps> = ({ value, expression }) => {\n\n  return (\n    <div className={'display'}>\n      <div className={'display__indicator'}>\n        <div className={'display__expression'}>\n          {expression}\n        </div>\n      </div>\n      <div className={'display__screen'}>\n        {value}\n      </div>\n    </div>\n  )\n}\n\nexport default Display\n","import React from 'react'\n\ninterface ButtonProps {\n  clas?: 'button--middle' | 'button--yellow' | 'button--grey' | 'button--red' | 'button--green'\n  onClick?: () => void\n}\n\n\nexport const Button: React.FC<ButtonProps> = ({ children, clas, onClick }) => {\n  return (\n    <button className={'button ' + (clas ? clas : '')} onClick={onClick}>\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import {createContext} from 'react';\nimport {ThemeContextValue} from './ThemeProvider'\n\nexport const ThemeContext = createContext<ThemeContextValue>({\n    theme: () => {},\n    isDarkTheme: false,\n});\n","import React, {useContext, useEffect} from 'react'\nimport Button from '../Button/Button'\nimport {Digit, Operator} from '../../ts/types'\nimport {ThemeContextValue} from \"../Theme/ThemeProvider\";\nimport {ThemeContext} from \"../Theme/ThemeContext\";\n\ninterface NumPadProps {\n    onDigitButtonClick: (digit: Digit) => void\n    onDotButtonClick: () => void\n    onOperatorButtonClick: (operator: Operator) => void\n    onMinusSignButtonClick: () => void\n    onEqualButtonClick: () => void\n    onAllClearButtonClick: () => void\n    onClearEntryButtonClick: () => void\n    onMemoryInsertButtonClick: () => void\n    onClearButtonClick: () => void\n    onMemorySaveResult: () => void\n    onMemoryClear: () => void\n}\n\nexport const NumPad: React.FC<NumPadProps> = ({\n                                               onDigitButtonClick,\n                                               onDotButtonClick,\n                                               onOperatorButtonClick,\n                                               onMinusSignButtonClick,\n                                               onEqualButtonClick,\n                                               onAllClearButtonClick,\n                                               onClearEntryButtonClick,\n                                               onMemoryInsertButtonClick,\n                                               onClearButtonClick,\n                                               onMemorySaveResult,\n                                               onMemoryClear\n                                           }) => {\n    const {theme, isDarkTheme} = useContext<ThemeContextValue>(ThemeContext)\n\n    useEffect(() => {\n        document.body.addEventListener('keydown', onHandleKey)\n        return () => document.body.removeEventListener('keydown', onHandleKey)\n    })\n\n    const onHandleKey = ({keyCode, shiftKey}: KeyboardEvent):void => {\n        if (keyCode >= 48 && keyCode <= 57 && !shiftKey) {\n            // Цифры верхний ряд\n            onDigitButtonClick((keyCode - 48) as Digit)\n        } else if (keyCode === 53 && shiftKey) {\n            onOperatorButtonClick('%')\n        } else if (keyCode === 107 || (keyCode === 187 && shiftKey)) {\n            onOperatorButtonClick('+')\n        } else if (keyCode === 187 && !shiftKey) {\n            onEqualButtonClick()\n        } else if (keyCode === 106 || (keyCode === 56 && shiftKey)) {\n            onOperatorButtonClick('×')\n        } else if (keyCode === 109 || keyCode === 189) {\n            onOperatorButtonClick('-')\n        } else if (keyCode === 111 || keyCode === 191) {\n            onOperatorButtonClick('÷')\n        } else if (keyCode === 111 || keyCode === 191) {\n            onOperatorButtonClick('÷')\n        }  else if (keyCode === 68) {\n            // D - точка\n            onDotButtonClick()\n        } else if (keyCode === 46) {\n            // Delete - удалить ввод\n            onClearEntryButtonClick()\n        } else if (keyCode === 27) {\n            // Esc - очистить ввод и историю\n            onAllClearButtonClick()\n        } else if (keyCode === 78) {\n            // N - добавить/убрать минус впереди\n            onMinusSignButtonClick()\n        } else if (keyCode === 80) {\n            // P - вставить сохр. знач.\n            onMemoryInsertButtonClick()\n        } else if (keyCode === 67) {\n            // С - удалить ввод\n            onClearButtonClick()\n        } else if (keyCode === 65) {\n            // A - удалить ввод и историю\n            onAllClearButtonClick()\n        } else if (keyCode === 83) {\n            // S - сохр. историю\n            onMemorySaveResult()\n        } else if (keyCode === 75) {\n            // K - удалить историю\n            onMemoryClear()\n        }\n    }\n\n    return (\n        <div className={'pad'}>\n            <Button clas={'button--grey'} onClick={onClearButtonClick}>\n                C\n            </Button>\n            <Button clas={'button--grey'} onClick={onMemoryClear}>\n                MC\n            </Button>\n            <Button clas={'button--grey'} onClick={onMemorySaveResult}>\n                MS\n            </Button>\n            <Button clas={isDarkTheme ? 'button--red' : 'button--green'} onClick={theme}>\n                T\n            </Button>\n            <Button clas={'button--grey'} onClick={onAllClearButtonClick}>\n                AC\n            </Button>\n            <Button clas={'button--grey'} onClick={onMinusSignButtonClick}>\n                -/+\n            </Button>\n            <Button clas={'button--grey'} onClick={() => onOperatorButtonClick('%')}>\n                %\n            </Button>\n            <Button clas={'button--yellow'} onClick={() => onOperatorButtonClick('÷')}>\n                ÷\n            </Button>\n            <Button onClick={() => onDigitButtonClick(7)}>\n                7\n            </Button>\n            <Button onClick={() => onDigitButtonClick(8)}>\n                8\n            </Button>\n            <Button onClick={() => onDigitButtonClick(9)}>\n                9\n            </Button>\n            <Button clas={'button--yellow'} onClick={() => onOperatorButtonClick('×')}>\n                ×\n            </Button>\n            <Button onClick={() => onDigitButtonClick(4)}>\n                4\n            </Button>\n            <Button onClick={() => onDigitButtonClick(5)}>\n                5\n            </Button>\n            <Button onClick={() => onDigitButtonClick(6)}>\n                6\n            </Button>\n            <Button clas={'button--yellow'} onClick={() => onOperatorButtonClick('-')}>\n                ‒\n            </Button>\n            <Button onClick={() => onDigitButtonClick(1)}>\n                1\n            </Button>\n            <Button onClick={() => onDigitButtonClick(2)}>\n                2\n            </Button>\n            <Button onClick={() => onDigitButtonClick(3)}>\n                3\n            </Button>\n            <Button clas={'button--yellow'} onClick={() => onOperatorButtonClick('+')}>\n                +\n            </Button>\n            <Button onClick={() => onDigitButtonClick(0)}>\n                0\n            </Button>\n            <Button clas={'button--grey'} onClick={onMemoryInsertButtonClick}>\n                MR\n            </Button>\n            <Button clas={'button--middle'} onClick={onDotButtonClick}>\n                .\n            </Button>\n            <Button clas={'button--yellow'} onClick={onEqualButtonClick}>\n                =\n            </Button>\n        </div>\n    )\n}\n\nexport default NumPad\n","import React, {useContext, useState} from 'react'\nimport Display from '../Display/Display'\nimport NumPad from '../NumPad/NumPad'\nimport {Digit, Operator} from '../../ts/types'\nimport {ThemeContextValue} from \"../Theme/ThemeProvider\";\nimport {ThemeContext} from \"../Theme/ThemeContext\";\n\ninterface Rez {\n    amount: number\n    current: boolean\n}\n\nexport const App: React.FC = () => {\n    const [result, setResult] = useState<number>(0)\n    const [display, setDisplay] = useState<string>('0')\n    const [isOperand, setIsOperand] = useState<boolean>(true)\n    const [isOperator, setIsOperator] = useState<Operator>()\n    const {isDarkTheme} = useContext<ThemeContextValue>(ThemeContext);\n\n    const onMemorySaveResult = ():void => {\n        const newResult: number = Number(display)\n        const history: string = localStorage.getItem(\"rez\") as string\n\n        if (history) {\n            const oldArr: Rez[] = JSON.parse(localStorage.getItem(\"rez\") as string)\n            oldArr.forEach(e => e.current = false)\n\n            const newRez: Rez = {\n                amount: newResult,\n                current: true\n            }\n\n            newRez.amount !== Infinity && oldArr.push(newRez)\n            localStorage.setItem(\"rez\", JSON.stringify(oldArr));\n        } else {\n            const tempArr: Rez[] = [{\n                amount: newResult,\n                current: true\n            }]\n\n            tempArr[0].amount !== Infinity && localStorage.setItem(\"rez\", JSON.stringify(tempArr))\n        }\n    }\n\n    const calc = (rightOperand: number, isOperator: Operator):boolean => {\n        let newResult = result\n\n        switch (isOperator) {\n            case '+':\n                newResult += rightOperand\n                break\n            case '-':\n                newResult -= rightOperand\n                break\n            case '×':\n                newResult *= rightOperand\n                break\n            case '%':\n                newResult = 100 / newResult * rightOperand\n                break\n            case '÷':\n                if (rightOperand === 0) {\n                    return false\n                }\n\n                newResult /= rightOperand\n        }\n\n        setResult(newResult)\n\n        if (newResult.toString().length > 7) {\n            setDisplay( \"Infinity\" )\n            setTimeout(_ => onClearButtonClick(), 1000)\n        } else {\n            setDisplay(newResult.toString().slice(0, 7))\n        }\n\n        return true\n    }\n\n    const onDigitButtonClick = (digit: Digit):void => {\n        let newValue = display\n\n        if ((display === '0' && digit === 0) || display.length > 7) {\n            return\n        }\n\n        if (isOperand) {\n            newValue = ''\n            setIsOperand(false)\n        }\n\n        if (display !== '0') {\n            newValue = newValue + digit.toString()\n        } else {\n            newValue = digit.toString()\n        }\n\n        setDisplay(newValue)\n    }\n\n    const onDotButtonClick = ():void => {\n        let newValue = display\n\n        if (isOperand) newValue = '0'\n        if (newValue.indexOf('.') === -1) newValue = newValue + '.'\n\n        setDisplay(newValue)\n        setIsOperand(false)\n    }\n\n    const onOperatorButtonClick = (operator: Operator):void => {\n        const operand: number = Number(display)\n\n        if (typeof isOperator !== 'undefined' && !isOperand) {\n            if (!calc(operand, isOperator)) return\n        } else {\n            setResult(operand)\n        }\n\n        setIsOperator(operator)\n        setIsOperand(true)\n    }\n\n    const onMinusSignButtonClick = ():void => {\n        const value: number = Number(display);\n\n        (value > 0)\n            ? setDisplay('-' + display)\n            : setDisplay(display.slice(1))\n    }\n\n    const onEqualButtonClick = ():void => {\n        const operand: number = Number(display)\n\n        if (typeof isOperator !== 'undefined' && !isOperand) {\n            if (!calc(operand, isOperator)) return\n            setIsOperator(undefined)\n        } else {\n            setDisplay(operand.toString())\n        }\n\n        setResult(operand)\n        setIsOperand(true)\n    }\n\n    const onAllClearButtonClick = ():void => {\n        setResult(0)\n        setIsOperator(undefined)\n        setDisplay('0')\n        setIsOperand(true)\n\n        onMemoryClear()\n    }\n\n    const onMemoryClear = ():void => {\n        localStorage.getItem('rez') && localStorage.removeItem('rez')\n    }\n\n    const onClearButtonClick = ():void => {\n        setResult(0)\n        setIsOperator(undefined)\n        setDisplay('0')\n        setIsOperand(true)\n    }\n\n    const onClearEntryButtonClick = ():void => {\n        setDisplay('0')\n        setIsOperand(true)\n    }\n\n    const onMemoryInsertButtonClick = ():void => {\n        const history: Rez[] = JSON.parse(localStorage.getItem(\"rez\") as string)\n        if (!history) return\n\n        let idx: number = 0;\n        let memory: Rez | undefined = history.find((e, i) => {\n            if (e.current) {\n                idx = i\n                return e\n            }\n        })\n\n        if (history[idx - 1]) {\n            history[idx].current = false\n            history[idx - 1].current = true\n        } else {\n            history[idx].current = false\n            history[history.length - 1].current = true\n        }\n\n        localStorage.setItem(\"rez\", JSON.stringify(history));\n        setIsOperand(false)\n\n        memory && setDisplay(memory.amount.toString())\n    }\n\n    return (\n        <div className={'app ' + (isDarkTheme ? 'dark' : '')}>\n            <Display value={display} expression={\n                typeof isOperator !== 'undefined'\n                    ? `${result}${isOperator}${isOperand\n                    ? ''\n                    : display}`\n                    : ''\n            }\n            />\n            <NumPad\n                onDigitButtonClick={onDigitButtonClick}\n                onDotButtonClick={onDotButtonClick}\n                onOperatorButtonClick={onOperatorButtonClick}\n                onMinusSignButtonClick={onMinusSignButtonClick}\n                onEqualButtonClick={onEqualButtonClick}\n                onAllClearButtonClick={onAllClearButtonClick}\n                onClearButtonClick={onClearButtonClick}\n                onClearEntryButtonClick={onClearEntryButtonClick}\n                onMemoryInsertButtonClick={onMemoryInsertButtonClick}\n                onMemorySaveResult={onMemorySaveResult}\n                onMemoryClear={onMemoryClear}\n            />\n        </div>\n    )\n}\n\nexport default App\n","import React, {useCallback, useEffect, useMemo, useState} from 'react'\nimport {ThemeContext} from \"./ThemeContext\";\n\nexport type ThemeContextValue = {\n    theme: () => void;\n    isDarkTheme: boolean;\n};\n\nexport const ThemeProvider: React.FC = ({children}) => {\n    const [isDarkTheme, setDarkTheme] = useState<boolean>(\n        localStorage.getItem('theme')\n            ? !!Number(localStorage.getItem('theme'))\n            : !!Number(localStorage.setItem('theme', '0'))\n    );\n\n    useEffect(() => {\n        isDarkTheme\n            ? localStorage.setItem('theme', '1')\n            : localStorage.setItem('theme', '0')\n    }, [isDarkTheme])\n\n    const theme = useCallback(() => setDarkTheme(isDarkTheme => !isDarkTheme), []);\n\n    const value = useMemo<ThemeContextValue>(() => ({\n            isDarkTheme,\n            theme\n        }),\n        [isDarkTheme, theme]\n    );\n\n    return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\n};","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App/App'\nimport './index.scss'\nimport {ThemeProvider} from './components/Theme/ThemeProvider';\n\nReactDOM.render(\n    <React.StrictMode>\n        <ThemeProvider>\n            <App/>\n        </ThemeProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}